(this["webpackJsonpsw-lib"]=this["webpackJsonpsw-lib"]||[]).push([[0],{13:function(e,t,a){e.exports={item:"LibraryItem_item__caTgO",title:"LibraryItem_title__3wyVI",imageContainer:"LibraryItem_imageContainer__3gzaU",image:"LibraryItem_image__2YdyY"}},17:function(e,t,a){e.exports={field:"index__field__1yLuk",cell:"index__cell__2mWZ7"}},25:function(e,t,a){e.exports={fieldItem:"FieldList_fieldItem__3rjlT"}},33:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a(1),r=a(22),s=a.n(r),c=a(7),l=(a(33),function(){return Object(n.jsxs)("header",{className:"header",children:[Object(n.jsx)("div",{className:"header__logo"}),Object(n.jsx)("nav",{className:"header__nav nav",children:Object(n.jsxs)("ul",{className:"nav__list",children:[Object(n.jsx)("li",{className:"nav__item",children:Object(n.jsx)(c.c,{className:"nav__link",to:"/",exact:!0,children:"Home"})}),Object(n.jsx)("li",{className:"nav__item",children:Object(n.jsx)(c.c,{className:"nav__link",to:"/people",children:"People"})}),Object(n.jsx)("li",{className:"nav__item",children:Object(n.jsx)(c.c,{className:"nav__link",to:"/planets",children:"Planets"})}),Object(n.jsx)("li",{className:"nav__item",children:Object(n.jsx)(c.c,{className:"nav__link",to:"/starships",children:"Starships"})})]})})]})}),o=(a(42),function(){return Object(n.jsx)("div",{className:"searchBar",children:Object(n.jsx)("input",{type:"text",className:"searchBar__input"})})}),u=a(2),d=a(10),m=a.n(d),j=a(15),h=a(14),p=a(8),b=a(16),f=Object(b.a)("idTemplate"),v=Object(b.a)("getItemId"),O=Object(b.a)("getImageUrl"),_=function e(){var t=this;Object(h.a)(this,e),Object.defineProperty(this,f,{writable:!0,value:/\/([0-9]+)\//}),this.SW_BASE_URL="https://swapi.dev/api",this.PERSON_IMG_URL="https://starwars-visualguide.com/assets/img/characters/",this.PLANET_IMG_URL="https://starwars-visualguide.com/assets/img/planets/",this.STARSHIP_IMG_URL="https://starwars-visualguide.com/assets/img/starships/",this.SW_CATEGORIES={people:function(e){return t.modifyPerson(e)},planets:function(e){return t.modifyPlanet(e)},starships:function(e){return t.modifyStarship(e)}},Object.defineProperty(this,v,{writable:!0,value:function(e){return e.match(Object(p.a)(t,f)[f])[1]}}),Object.defineProperty(this,O,{writable:!0,value:function(e,t){return e+t+".jpg"}}),this.modifyPerson=function(e){var a=Object(p.a)(t,v)[v](e.url);return{id:a,imageUrl:Object(p.a)(t,O)[O](t.PERSON_IMG_URL,a),name:e.name,info:[{id:1,title:"Name",value:e.name},{id:2,title:"Gender",value:e.gender},{id:3,title:"Year of birth",value:e.birth_year},{id:4,title:"Height",value:e.height},{id:5,title:"Mass",value:e.mass}]}},this.modifyPlanet=function(e){var a=Object(p.a)(t,v)[v](e.url);return{id:a,imageUrl:Object(p.a)(t,O)[O](t.PLANET_IMG_URL,a),name:e.name,info:[{id:1,title:"Name",value:e.name},{id:2,title:"Rotation period",value:e.rotation_period},{id:3,title:"Climate",value:e.climate},{id:4,title:"Terrain",value:e.terrain},{id:5,title:"Population",value:e.population}]}},this.modifyStarship=function(e){var a=Object(p.a)(t,v)[v](e.url);return{id:a,imageUrl:Object(p.a)(t,O)[O](t.STARSHIP_IMG_URL,a),name:e.name,info:[{id:1,title:"Name",value:e.name},{id:2,title:"Model",value:e.model},{id:3,title:"Length",value:e.length},{id:4,title:"Passengers",value:e.passengers},{id:5,title:"HyperDrive rating",value:e.hyperdrive_rating}]}},this.getData=function(){var e=Object(j.a)(m.a.mark((function e(a,n){var i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.SW_BASE_URL+a,n);case 2:return i=e.sent,e.next=5,i.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.getItemData=function(){var e=Object(j.a)(m.a.mark((function e(a,n){var i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getData(a);case 2:return i=e.sent,e.abrupt("return",t.SW_CATEGORIES[n](i));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.getListData=function(){var e=Object(j.a)(m.a.mark((function e(a,n){var i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getData(a);case 2:return i=e.sent,e.abrupt("return",i.results.map(t.SW_CATEGORIES[n]));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},g=a(24),x=a(27),y=a(26),L=(a(44),function(){return Object(n.jsx)("div",{className:"spinner",children:"loading..."})}),N=function(e){Object(x.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={loadedData:null,isLoading:!0,isError:!1},e.getLibraryData=function(t,a){e.props.getData(t,a).then((function(t){e.setState({loadedData:t,isLoading:!1,isError:!1})})).catch((function(){return e.setState({isLoading:!1,isError:!0})}))},e}return Object(g.a)(a,[{key:"componentDidMount",value:function(){console.log("componentDidMount()",this.state);var e=this.props.match,t=e.url,a=e.params.category;this.getLibraryData(t,a)}},{key:"componentWillReceiveProps",value:function(e,t){e.match.url!==this.props.match.url&&(console.log("componentWillReceiveProps() before setState",this.state),this.setState({loadedData:null,isLoading:!0,isError:!1}))}},{key:"componentDidUpdate",value:function(e,t,a){if(console.log("componentDidUpdate() before if",this.state),e.match.url!==this.props.match.url){console.log("componentDidUpdate() after if",this.state);var n=this.props.match,i=n.url,r=n.params.category;this.getLibraryData(i,r)}}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.isError,i=e.loadedData,r=this.props.component;return console.log("render",this.state),a?Object(n.jsx)("div",{children:"error"}):t?Object(n.jsx)(L,{}):Object(n.jsx)(r,{data:i})}}]),a}(i.Component),I=function(e){var t=e.data,a=void 0===t?[]:t,i=e.match.url,r=a.map((function(e){return Object(n.jsx)("li",{className:"libraryList__item",children:Object(n.jsx)(c.b,{className:"libraryList__link",to:i+"/"+e.id,children:e.name})},e.id)}));return Object(n.jsx)("ul",{className:"libraryList",children:r.length?r:Object(n.jsx)("li",{className:"libraryList__item",children:"no items"})})},S=Object(u.f)(I),D=a(11),w=a.n(D),P=a(17),E=a.n(P),R=function(e){var t=e.fieldItem,a=e.classList,i=void 0===a?"":a;return Object(n.jsxs)("li",{className:w()(E.a.field,i),children:[Object(n.jsx)("span",{className:E.a.cell,children:t.title}),Object(n.jsx)("span",{className:E.a.cell,children:t.value})]})},k=a(25),U=a.n(k),T=function(e){var t=e.fieldList,a=e.classList,i=void 0===a?"":a;return Object(n.jsx)("ul",{className:w()(i),children:t.map((function(e){return Object(n.jsx)(R,{fieldItem:e,classList:U.a.fieldItem},e.id)}))})},A=a(13),G=a.n(A),M=function(e){var t=e.data,a=e.classList,i=void 0===a?"":a,r=t.info,s=t.name,c=t.imageUrl;return Object(n.jsxs)("div",{className:w()(G.a.item,i),children:[Object(n.jsx)("h2",{className:G.a.title,children:s}),Object(n.jsx)("div",{className:G.a.imageContainer,children:Object(n.jsx)("img",{className:G.a.image,src:c,alt:s})}),Object(n.jsx)(T,{fieldList:r}),Object(n.jsx)("button",{className:"backButton",type:"button",children:"<< Back"})]})},W=function(){return Object(n.jsx)("div",{children:"Page not found"})},C=function(){return Object(n.jsx)("div",{children:"Welcome to StarWars library home page"})},B=new _,H=function(){return Object(n.jsx)("main",{children:Object(n.jsxs)(u.c,{children:[Object(n.jsx)(u.a,{path:"/",exact:!0,component:C}),Object(n.jsx)(u.a,{exact:!0,path:"/:category/:id",render:function(e){var t=e.match;return Object(n.jsx)(N,{match:t,getData:B.getItemData,component:M})}}),Object(n.jsx)(u.a,{exact:!0,path:"/:category",render:function(e){var t=e.match;return Object(n.jsx)(N,{match:t,getData:B.getListData,component:S})}}),Object(n.jsx)(u.a,{component:W})]})})},Y=(a(45),function(){return Object(n.jsxs)("div",{className:"app",children:[Object(n.jsx)(l,{}),Object(n.jsx)(o,{}),Object(n.jsx)(H,{})]})});a(46);s.a.render(Object(n.jsx)(c.a,{children:Object(n.jsx)(Y,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.2f3939fb.chunk.js.map